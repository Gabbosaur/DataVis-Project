<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/css/fontawesome.css">
    <link rel="stylesheet" href="/css/solid.css">
    <link rel="stylesheet" href="/css/brands.css">
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="d3/d3.js"></script>

    <title>Nutritional choices and online buying behavior</title>
</head>

<body onload="initInfo()">
    <!-- Navbar (sit on top) -->
    <div class="w3-top">
        <div class="w3-bar w3-white w3-card" id="myNavbar">
            <a href="#home" class="w3-bar-item w3-button w3-wide">NUTRITIONAL CHOICES and ONLINE BUYING BEHAVIOR</a>
            <!-- Right-sided navbar links -->
            <div class="w3-right w3-hide-small">
                <a href="#home" class="w3-bar-item w3-button">PROJECT</a>
                <a href="#about" class="w3-bar-item w3-button">ABOUT US</a>
            </div>
            <!-- Hide right-floated links on small screens and replace them with a menu icon -->
            <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium"
                onclick="w3_open()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
    </div>
    <!-- Sidebar on small screens when clicking the menu icon -->
    <div>
        <nav class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large"
            style="display:none" id="mySidebar">
            <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-large w3-padding-16">Close
                ×</a>
            <a href="#home" onclick="w3_close()" class="w3-bar-item w3-button">PROJECT</a>
            <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button">ABOUT US</a>
        </nav>
    </div>


    <!-- PROJECT -->
    <h3 class="w3-center w3-teal" style="padding:50px">PROJECT</h3>
    <div class="w3-container" id="home">
        <div class="w3-row-padding" style="padding: 0">
            <div class="w3-col l2" style="padding: 0">
                <i class="fas fa-user-friends"></i> Partecipanti<br>
                <hr>
                <div>
                    <div id="totPartecipanti" class="textLarge">
                        <div id="contatore">0</div>
                    </div>

                    <p style="text-align: center; margin: 0;">
                        partecipants
                    </p>
                </div>
                <hr>
                <p class="textLarge">Age</p>
                <div id="hBarchart"></div>
                <!-- BONUS DA FARE: Responsività delle barre che si adattano alla pagina -->
                <hr>
                <p class="textLarge">Salary</p>
                <div id="salaryhBarChart"></div>
            </div>
            <div class="w3-col l7">
                <i class="fa fa-chart-bar"></i> Main Chart<br>
                <hr>
                <div id="scatterplot"></div>
            </div>
            <div class="w3-col l3">
                <i class="fa fa-info-circle"></i> Product info<br>
                <hr>
                <div id="info">
                    <div>
                        <div class="subtitleprod">Product name</div> <span id="name" class="prodname"></span>
                        <!-- CAMBIARE FORMATTAZIONE PER IL NOME -->
                    </div>
                    <div class="w3-col l9">
                        <div class="subtitleprod">Score</div>
                        <div class="subtitleprod">Price (€/Kg €/L)</div>
                        <div class="subtitleprod">Energy</div>
                        <div class="subtitleprod">Protein</div>
                        <div class="subtitleprod">Carbohydrates (glucidi)</div>
                        <div class="subtitleprod">of which sugars</div>
                        <div class="subtitleprod">Fat</div>
                        <div class="subtitleprod">of which satures</div>
                        <div class="subtitleprod">Fibers</div>
                        <div class="subtitleprod">Salt</div>
                    </div>
                    <div class="w3-col l3">
                        <div id="score" class="subtitleprod"></div>
                        <div id="pricekgl" class="subtitleprod"></div>
                        <div id="energy" class="subtitleprod"></div>
                        <div id="protein" class="subtitleprod"></div>
                        <div id="glucides" class="subtitleprod"></div>
                        <div id="sucres" class="subtitleprod"></div>
                        <div id="lipides" class="subtitleprod"></div>
                        <div id="ags" class="subtitleprod"></div>
                        <div id="fibers" class="subtitleprod"></div>
                        <div id="salt" class="subtitleprod"></div>
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <div class="w3-row">
            <div class="w3-col l8">
                <h3>Il nostro progetto</h3>
                <p>Il nostro progetto verte su un'analisi dei dati sul comportamento...
                    <br> L'esperimento è volto a studiare il comportamento degli acquirenti in base all'etichetta del
                    prodotto. La nostra prima fase è di analizzare il dataset assegnato e valutare quali analisi
                    effettuare. In questo esperimento sono stati
                    coinvolti 325 partecipanti in cui possiamo capire bene la distribuzione in termini di anni e
                    stipendio. La simulazione di acquisto è stata effettuata al PC, in cui viene suddivisa in due fasi:
                <ul>
                    <li>Fase 1: i partecipanti visualizzano il catalogo e selezionano i prodotti da acquistare
                        <strong>senza</strong> alcuna etichetta nutrizionale</li>
                    <li>Fase 2: i partecipanti visualizzano il catalogo e selezionano i prodotti da acquistare
                        <strong>con</strong> le loro etichette nutrizionali</li>
                </ul>
                Lo scatterplot rappresenta tutti i prodotti presenti nel catalogo del supermercato posizionati in base
                loro prezzo al chilo/litro e al loro <a href="https://ec.europa.eu/food/sites/food/files/animals/docs/comm_ahac_20180423_pres4.pdf
                    ">score FSA</a> (Food Standards Agency). Puntando sul relativo prodotto, viene visualizzato i
                dettagli del prodotto a fianco dello scatterplot. Sono state prese in considerazione 4 tipi di
                etichette:
                <ul>
                    <li>Nutri-score: è un sistema a 5 colori che suddivide i prodotti in categorie in base al punteggio
                        legato alla qualità nutrizionale complessiva del prodotto su 100 g (energia, grassi, grassi
                        saturi, zuccheri, sale, fibre, contenuto
                        di frutta e verdura).</li>
                    <li>Traffic lights: red means the product is high in a nutrient and you should try to cut down, eat
                        less often or eat smaller amounts. Amber means medium. If a food contains mostly amber, you can
                        eat it most of the time. Green means
                        low.
                    </li>
                    <li>RI-GDA: reference intakes (RIs) are a means of communicating maximum recommended nutrient intake
                        to the public. Reference Intakes replaced the term Guideline Daily Amount (GDA), although the
                        principles behind both are the same.
                        The major difference is that GDAs existed for men, women and children; there is only one set of
                        RIs for an average adult.</li>
                    <li>Neutral: this label is like the RI-GDA but without the percentage of daily intake.</li>
                </ul>
                Per valutare quale tra queste etichette sia la più efficace abbiamo svolto una profonda analisi. Il
                grafico a fianco rappresenta sostanzialmente l'efficacia dell'etichetta, misurata con un parametro
                pesato, seguendo la formula:<br>
                <code> Δverdescuro*2 + Δverdechiaro*1 + Δgiallo*0 - Δarancio*1 - Δrosso*2</code><br> Il parametro
                "<code>Δverdescuro</code>" è stato ricavato dalla differenza tra la quantità di prodotti classificati
                verdescuro acquistati in fase 2
                e la quantità di prodotti classificati verdescuro acquistati in fase 1. Abbiamo preso come riferimento i
                colori dell'etichetta Nutri-score 5C per effettuare un confronto avendo la stessa classificazione del
                prodotto. Questo risultato
                è rappresentato dai grafici sottostanti, dove è possibile inoltre filtrare per tipo di etichetta, per
                fasce di anni e per fasce di salario. Da queste analisi risulta che l'etichetta Nutri-score 5C incentivi
                maggiormente l'acquisto
                di prodotti ritenuti più sani. Se osserviamo l'etichetta neutral (che è l'etichetta con meno indicazioni
                in assoluto) si nota che non premia il consumo di prodotti salutari.



                </p>
            </div>
            <div class="w3-col l4">
                best label chart

                <div id="bestLabelChart"></div>
            </div>
        </div>

        <hr>

        <div class="w3-row-padding" style="padding: 0">
            <div class="w3-col l12" style="padding: 0">
                <i class="fa fa-chart-bar"></i> Label Chart
            </div>
            <div class="w3-row-padding">
                <div class="w3-col l2">
                    Filter by:
                    <select id="chooseAgeStipendio" onchange="chooseAsseX(this.options[this.selectedIndex].value)">
                        <option selected value="anni">Age</option>
                        <option value="stipendio">Salary</option>
                        <!-- <option value="matches">Matches</option>
                        <option value="goals">Goals</option> -->
                    </select>
                </div>
                <div class="w3-col l4" style="text-align: end;">
                    <select id="chooseLabel1" onchange="chooseLChart1(this.options[this.selectedIndex].value)">
                        <option selected value="5C">Nutriscore 5C</option>
                        <option value="TL">Traffic Lights</option>
                        <option value="RI-GDA">RI-GDA</option>
                        <option value="neutre">Neutral</option>
                    </select>
                </div>
                <div class="w3-col l6">
                    <select id="chooseLabel2" onchange="chooseLChart2(this.options[this.selectedIndex].value)">
                        <option value="5C">Nutriscore 5C</option>
                        <option selected value="TL">Traffic Lights</option>
                        <option value="RI-GDA">RI-GDA</option>
                        <option value="neutre">Neutral</option>
                    </select>
                </div>
            </div>


            <div class="w3-row-padding">
                <div class="w3-col s6">
                    lchart1
                    <div id="labelChart1"></div>
                </div>

                <div class="w3-col s6">
                    lchart2
                    <div id="labelChart2"></div>
                </div>
            </div>
        </div>
        <hr>
        <!-- <div class="w3-row-padding" style="padding: 0">
            <div class="w3-col l6" style="padding: 0">
                <div id="labelChart"></div>
            </div>
            <div class="w3-col l6" style="padding: 0">
                <div id="labelChart2"></div>
            </div>
        </div> -->


        <!-- ABOUT US -->
        <h3 class="w3-center w3-teal" style="padding: 50px">ABOUT US</h3>
        <div class="w3-container" style="padding: 20px 16px" id="about">

            <div class="w3-row-padding">
                <div class="w3-col l3 m6"><br></div>
                <!-- empty column -->
                <div class="w3-col l3 m6 w3-margin-bottom">
                    <div class="w3-card">
                        <img src="/img/gab.jpg" alt="Gabriele" style="width:100%">
                        <div class="w3-container">
                            <h3>Gabriele Guo</h3>
                            <p class="w3-opacity">Ingegneria Informatica<br>Università degli Studi di Genova</p>
                            <hr>
                            <p><i class="fa fa-id-card-alt w3-padding"></i>3982992</p>
                            <p><i class="fa fa-envelope w3-padding"></i>gabriele.guo@gmail.com</p>
                            <p><i class=" fab fa-linkedin w3-padding"></i><a
                                    href="https://www.linkedin.com/in/gabrieleguo/" target="_blank">Gabriele Guo</a>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="w3-col l3 m6 w3-margin-bottom">
                    <div class="w3-card">
                        <img src="/img/temp.jpg" alt="Luca" style="width:100%">
                        <div class="w3-container">
                            <h3>Luca Rabagliati</h3>
                            <p class="w3-opacity">Ingegneria Informatica<br>Università degli Studi di Genova</p>
                            <hr>
                            <p><i class="fa fa-id-card-alt w3-padding"></i>3971299</p>
                            <p><i class="fa fa-envelope w3-padding"></i>luca.rabagliati.majo@gmail.com </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="scripts/main.js"></script>
        <script src="scripts/secondary.js"></script>
    </div>
</body>

</html>